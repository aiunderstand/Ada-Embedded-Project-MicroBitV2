{
  // Container name that appears in VS Code
  "name": "Ada Development with Alire",
  
  // Base Ubuntu 22.04 image
  "image": "ubuntu:22.04",
  
  // Run as root during container creation to install packages
  "containerUser": "root",
  
  // Command to run when the container is first created
  "onCreateCommand": [
    "bash", "-c",
    // Update package lists
    "apt-get update && " +
    // Install required packages: wget (download), curl (download), unzip (extract), build tools
    "apt-get install -y wget curl unzip build-essential && " +
    // Download the latest Alire binary for Linux
    "curl -L https://github.com/alire-project/alire/releases/latest/download/alr-$(uname -m)-linux.zip -o /tmp/alr.zip && " +
    // Extract the Alire binary
    "unzip /tmp/alr.zip -d /tmp/ && " +
    // Make the binary executable
    "chmod +x /tmp/bin/alr && " +
    // Move it to system PATH
    "mv /tmp/bin/alr /usr/local/bin/ && " +
    // Clean up temporary files
    "rm -rf /tmp/alr.zip /tmp/bin && " +
    // Verify installation
    "alr --version"
  ],
  
  // Command to run after the container is created but before VS Code connects
  "postCreateCommand": [
    "bash", "-c",
    // Show Alire version
    "alr version && " +
    // Install the latest gprbuild toolchain
    "alr toolchain --install gprbuild && " +
    // Install the latest gnat_arm_elf toolchain for ARM development
    "alr toolchain --install gnat_arm_elf && " +
    // Select gprbuild as active toolchain
    "alr toolchain --select gprbuild && " +
    // Select gnat_arm_elf as active toolchain
    "alr toolchain --select gnat_arm_elf"
  ],
  
  // VS Code extensions to install
  "customizations": {
    "vscode": {
      "extensions": [
        // Ada language support
        "AdaCore.ada"
      ]
    }
  },
  
  // Default user for the development session
  "remoteUser": "root"
}
